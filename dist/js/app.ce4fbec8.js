(function(){"use strict";var e={3920:function(e,a,t){var l=t(5130),o=t(6768);const n={id:"app"};function s(e,a,t,l,s,i){const r=(0,o.g2)("ImageGenerator");return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.bF)(r)])}var i=t(4232);const r={class:"image-generator-container px-8"},c=(0,o.Fv)('<div class="grid grid-cols-1 lg:grid-cols-3 gap-4 w-full"><div class="col-span-1 w-full text-start mb-8"><h1 class="headline-text">skunkwork 1.0.1</h1><p class="text-white">WIP: //unstable //Beta</p></div><div class="col-span-1 w-full text-start mb-8"><h2 class="text-lg">Usage Rules:</h2><p class="text-white text-xs"> Compliance with Applicable Law. You agree to abide by all applicable local, state, national, and foreign laws, treaties, and regulations, in connection with your use of the Service. Canva agrees to abide by all applicable local, state, national, and foreign laws, treaties, and regulations, in connection with its provision of the Service. </p></div><div class="col-span-1 w-full flex items-center justify-end mb-8"><img src="/Skunk_works_Logo.svg" alt="Skunkworks Logo" class="w-32 h-auto"></div></div><div class="w-full h-px bg-white my-4"></div>',2),u={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 w-full"},d=(0,o.Lk)("label",{for:"text-input",class:"input-label"},"Enter your text:",-1),p=(0,o.Lk)("label",{for:"image-upload",class:"input-label"},"Upload Reference Image:",-1),g={class:"flex items-baseline space-x-2"},m=(0,o.Lk)("label",{for:"use-reference-image",class:"input-label"}," Use Reference Image ",-1),v={key:0,class:"mb-4"},f=(0,o.Lk)("p",{class:"input-label"},"Reference Image:",-1),k=["src"],b={class:"flex space-x-4"},h={class:"w-1/2"},w=(0,o.Lk)("label",{for:"model-select",class:"input-label"},"Choose Model:",-1),x=(0,o.Fv)('<option value="civitai:158441@358398">epiCRealism</option><option value="civitai:139562@344487">RealVisXL V4.0</option><option value="civitai:181143@203296">CG texture light and shadow</option><option value="civitai:81458@132760">AbsoluteReality</option><option value="civitai:158441@358398">SocaRealism XL</option><option value="civitai:8552@10081">dvArch</option>',6),y=[x],L={class:"w-1/2"},R=(0,o.Lk)("label",{for:"preference-select",class:"input-label"},"Select Preference:",-1),I=(0,o.Lk)("option",{value:"speed"},"Speed",-1),S=(0,o.Lk)("option",{value:"quality"},"Quality",-1),U=[I,S],C={class:"relative group"},M={for:"steps-input",class:"input-label"},E=(0,o.Lk)("span",{class:"ml-2 text-gray-400 cursor-pointer"},"ⓘ",-1),O=(0,o.Lk)("div",{class:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-700 text-white text-cs p-2 z-10"},[(0,o.eW)(" Min: 1, Max: 100, Default: 20"),(0,o.Lk)("br"),(0,o.eW)(" Controls the number of iterations. Higher steps can lead to more detail but increase generation time. ")],-1),W={class:"flex space-x-4"},P={class:"w-1/2 relative group"},K={for:"seed-input",class:"input-label"},j=(0,o.Lk)("span",{class:"ml-2 text-gray-400 cursor-pointer"},"ⓘ",-1),_=(0,o.Lk)("div",{class:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-700 text-white text-sm p-2 shadow-lg w-64 z-10"},[(0,o.eW)(" Min: 1, Max: 9223372036854776000"),(0,o.Lk)("br"),(0,o.eW)(" Use the same seed to reproduce images. Leave empty for a random seed. ")],-1),A={class:"w-1/2"},D=(0,o.Lk)("label",{for:"aspect-ratio-select",class:"input-label"},"Select Aspect Ratio:",-1),V=(0,o.Fv)('<option value="1:1">1:1 (Square)</option><option value="16:9">16:9 (Widescreen)</option><option value="4:3">4:3 (Standard)</option><option value="3:2">3:2 (Classic)</option><option value="21:9">21:9 (Ultra-Widescreen)</option><option value="9:16">9:16 (Portrait)</option><option value="1.85:1">1.85:1 (Cinematic)</option>',7),$=[V],X={class:"text-sm text-gray-400"},T=["disabled"],F={class:"col-span-2 lg:h-full flex bg-fill-secondary items-center justify-center rounded-lg"},G={id:"image-output",class:"image-output w-full h-full lg:h-auto"},N={key:0,class:"text-white text-center"},q=(0,o.Lk)("p",null,"Generating image...",-1),J=[q],Q={key:1,class:"flex flex-col items-center justify-center h-full"},z=["src"],H={class:"flex flex-col space-y-2 mb-4"},B={class:"flex space-x-4"},Y={class:"text-white text-center mt-4"},Z={key:2,class:"text-white text-center"},ee=(0,o.Lk)("p",null,"No image generated yet.",-1),ae=[ee],te={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 w-full mt-8"},le={class:"col-span-1 flex flex-col border-r border-white"},oe={class:"terminal-container"},ne={key:0,class:"status-message"},se=(0,o.Lk)("span",{class:"terminal-cursor"},null,-1),ie={key:1,id:"loading-indicator",class:"loading-indicator"},re={class:"col-span-2 lg:h-full grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 auto-rows-fr"},ce=["onClick"],ue=["src"],de=(0,o.Lk)("div",{class:"w-32 h-32 border border-white flex items-center justify-center rounded-md"},[(0,o.Lk)("p",null,"Placeholder")],-1),pe=[de];function ge(e,a,t,n,s,x){const I=(0,o.g2)("image-modal");return(0,o.uX)(),(0,o.CE)("div",r,[c,(0,o.Lk)("div",u,[(0,o.Lk)("form",{onSubmit:a[9]||(a[9]=(0,l.D$)(((...a)=>e.handleSubmit&&e.handleSubmit(...a)),["prevent"])),class:"form-section col-span-1 flex flex-col border-r border-white"},[(0,o.Lk)("div",null,[d,(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":a[0]||(a[0]=a=>e.textInput=a),id:"text-input",rows:"4",class:"text-input resize-none",required:"",placeholder:"Enter your prompt"},"\n\t\t\t",512),[[l.Jo,e.textInput]])]),(0,o.Lk)("div",null,[p,(0,o.Lk)("input",{type:"file",id:"image-upload",onChange:a[1]||(a[1]=(...a)=>e.handleImageUpload&&e.handleImageUpload(...a)),accept:"image/jpeg,image/png,image/webp,image/bmp,image/gif",class:"file-input"},null,32)]),(0,o.Lk)("div",g,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",id:"use-reference-image","onUpdate:modelValue":a[2]||(a[2]=a=>e.useReferenceImage=a),class:"form-checkbox h-3 w-3 text-green"},null,512),[[l.lH,e.useReferenceImage]]),m]),e.useReferenceImage&&e.uploadedImage?((0,o.uX)(),(0,o.CE)("div",v,[f,(0,o.Lk)("img",{src:e.uploadedImage,alt:"Reference Image",class:"max-w-full max-h-64 object-contain border p-2"},null,8,k)])):(0,o.Q3)("",!0),(0,o.Lk)("div",b,[(0,o.Lk)("div",h,[w,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":a[3]||(a[3]=a=>e.model=a),id:"model-select",class:"select-input w-full"},y,512),[[l.u1,e.model]])]),(0,o.Lk)("div",L,[R,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":a[4]||(a[4]=a=>e.preference=a),id:"preference-select",class:"select-input w-full"},U,512),[[l.u1,e.preference]])])]),(0,o.Lk)("div",C,[(0,o.Lk)("label",M,[(0,o.eW)(" Steps: "+(0,i.v_)(e.steps)+" ",1),E,O]),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":a[5]||(a[5]=a=>e.steps=a),id:"steps-input",class:"slider-input w-full",min:"1",max:"100"},null,512),[[l.Jo,e.steps]])]),(0,o.Lk)("div",W,[(0,o.Lk)("div",P,[(0,o.Lk)("label",K,[(0,o.eW)(" Seed: "+(0,i.v_)(null!==e.seed?e.seed:"Random")+" ",1),j,_]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":a[6]||(a[6]=a=>e.seed=a),id:"seed-input",class:"number-input w-full",min:"1",max:0x8000000000000000,placeholder:"Random"},null,512),[[l.Jo,e.seed]])]),(0,o.Lk)("div",A,[D,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":a[7]||(a[7]=a=>e.aspectRatio=a),id:"aspect-ratio-select",class:"select-input w-full"},$,512),[[l.u1,e.aspectRatio]])])]),(0,o.Lk)("div",null,[(0,o.Lk)("p",X,"Calculated Dimensions: "+(0,i.v_)(e.width)+" x "+(0,i.v_)(e.height),1)]),(0,o.Lk)("button",{onClick:a[8]||(a[8]=(...a)=>e.handleSubmit&&e.handleSubmit(...a)),disabled:e.loading,class:"generate-button"},(0,i.v_)(e.loading?"Generating...":"Generate Image"),9,T)],32),(0,o.Lk)("div",F,[(0,o.Lk)("div",G,[e.loading?((0,o.uX)(),(0,o.CE)("div",N,J)):e.imageUrl?((0,o.uX)(),(0,o.CE)("div",Q,[(0,o.Lk)("img",{src:e.imageUrl,alt:"Generated Image",class:"max-h-full max-w-full object-contain p-4"},null,8,z),(0,o.Lk)("div",H,[(0,o.Lk)("div",B,[(0,o.Lk)("button",{onClick:a[10]||(a[10]=(...a)=>e.openModal&&e.openModal(...a)),class:"view-button"},"View Full Size"),(0,o.Lk)("button",{onClick:a[11]||(a[11]=(...a)=>e.downloadImage&&e.downloadImage(...a)),class:"download-button"},"Download Image")])]),(0,o.Lk)("div",Y,[(0,o.Lk)("p",null,"Seed: "+(0,i.v_)(e.generatedSeed),1)])])):((0,o.uX)(),(0,o.CE)("div",Z,ae))])]),e.modalVisible?((0,o.uX)(),(0,o.Wv)(I,{key:0,isVisible:e.modalVisible,imageUrl:e.imageUrl||"",seed:null!==e.generatedSeed?e.generatedSeed:void 0,onClose:e.closeModal},null,8,["isVisible","imageUrl","seed","onClose"])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",te,[(0,o.Lk)("div",le,[(0,o.Lk)("div",oe,[e.statusMessage?((0,o.uX)(),(0,o.CE)("div",ne,[(0,o.eW)(" Status: "),(0,o.Lk)("span",null,(0,i.v_)(e.statusMessage),1),se])):(0,o.Q3)("",!0),e.loading?((0,o.uX)(),(0,o.CE)("div",ie," Processing Data "+(0,i.v_)(e.loadingAnimation),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",re,[e.oldImages.length>0?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(e.oldImages.slice(-4),((a,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"flex items-center justify-center cursor-pointer",onClick:t=>e.viewImage(a)},[(0,o.Lk)("img",{src:a,alt:"Old Generated Image",class:"max-h-32 max-w-32 object-contain"},null,8,ue)],8,ce)))),128)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},(0,o.pI)(4,(e=>(0,o.Lk)("div",{key:e,class:"flex items-center justify-center cursor-pointer"},pe))),64))])])])}t(4114),t(4603),t(7566),t(8721);var me=t(144);let ve=0;const fe=5;let ke=!1;function be(e,a,t,l){const o=new WebSocket("wss://ws-api.runware.ai/v1");return o.onopen=()=>{console.log("WebSocket connection opened."),ve=0;const e="Qw9LhZpi2wuHyRk5LDh6ZOnHwDYQ8O3D";e||console.warn("API Key is missing! Please set VUE_APP_API_KEY in your environment.");const t=[{taskType:"authentication",apiKey:e}];o.send(JSON.stringify(t)),console.log("Authentication message sent:",t),a&&a()},o.onmessage=a=>{try{console.log("WebSocket message received:",a.data);const t=JSON.parse(a.data);if(console.log("Parsed WebSocket response:",t),t.data&&t.data[0].errorMessage)return console.error("Authentication failed:",t.data[0].errorMessage),void o.close();e&&e(t)}catch(t){console.error("Error parsing WebSocket message:",t)}},o.onerror=e=>{console.error("WebSocket error occurred:",e),l&&l(e)},o.onclose=o=>{if(console.log("WebSocket connection closed.",o.reason),t&&t(),!ke&&ve<fe){ke=!0;const o=1e3*Math.pow(2,ve);console.log(`Reconnecting in ${o/1e3} seconds...`),setTimeout((()=>{ve++,be(e,a,t,l),ke=!1}),o)}else ve>=fe&&console.error("Max reconnection attempts reached.")},o}function he(){let e=(new Date).getTime(),a=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{let l=16*Math.random();return e>0?(l=(e+l)%16|0,e=Math.floor(e/16)):(l=(a+l)%16|0,a=Math.floor(a/16)),("x"===t?l:3&l|8).toString(16)}))}const we={key:0,class:"modal-overlay"},xe={class:"modal-content"},ye=["src"],Le={key:0,class:"text-white text-center mt-4"},Re={class:"flex space-x-4 mt-4"};function Ie(e,a,t,l,n,s){return e.isVisible?((0,o.uX)(),(0,o.CE)("div",we,[(0,o.Lk)("div",xe,[(0,o.Lk)("img",{src:e.imageUrl,alt:"Generated Image",class:"max-w-full max-h-full"},null,8,ye),null!==e.seed&&void 0!==e.seed?((0,o.uX)(),(0,o.CE)("div",Le,[(0,o.Lk)("p",null,"Seed: "+(0,i.v_)(e.seed),1)])):(0,o.Q3)("",!0),(0,o.Lk)("div",Re,[(0,o.Lk)("button",{onClick:a[0]||(a[0]=(...a)=>e.downloadImage&&e.downloadImage(...a)),class:"download-button"},"Download Image"),(0,o.Lk)("button",{onClick:a[1]||(a[1]=a=>e.$emit("close")),class:"close-button"},"Close")])])])):(0,o.Q3)("",!0)}var Se=(0,o.pM)({props:{isVisible:{type:Boolean,required:!0},imageUrl:{type:String,required:!0},seed:{type:Number,required:!1}},setup(e){const a=(0,o.EW)((()=>{const a=e.imageUrl.split(".").pop();return`skunkworks_${Date.now()}.${a}`})),t=async()=>{try{const t=await fetch(e.imageUrl),l=await t.blob(),o=document.createElement("a");o.href=URL.createObjectURL(l),o.download=a.value,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(o.href)}catch(t){console.error("Download failed:",t)}};return{downloadImage:t}}}),Ue=t(1241);const Ce=(0,Ue.A)(Se,[["render",Ie]]);var Me=Ce,Ee=(0,o.pM)({components:{ImageModal:Me},setup(){const e=(0,me.KR)(null),a=(0,me.KR)(null),t=(0,me.KR)(!1),l=(0,me.KR)(""),n=(0,me.KR)("civitai:158441@358398"),s=(0,me.KR)(10),i=(0,me.KR)("speed"),r=(0,me.KR)("1:1"),c=(0,me.KR)(512),u=(0,me.KR)(512),d=(0,me.KR)(null),p=(0,me.KR)(!1),g=(0,me.KR)(""),m=(0,me.KR)(""),v=(0,me.KR)([]),f=(0,me.KR)(null),k=(0,me.KR)(null),b=(0,me.KR)(!1);let h,w=null,x=null;const y=e=>{g.value=e},L=()=>{p.value=!1,S(),null!==w&&(clearTimeout(w),w=null)},R=()=>{const e="speed"===i.value?512:1024;let a,t;switch(r.value){case"16:9":a=16,t=9;break;case"4:3":a=4,t=3;break;case"3:2":a=3,t=2;break;case"21:9":a=21,t=9;break;case"9:16":a=9,t=16;break;case"1.85:1":a=1.85,t=1;break;case"1:1":default:a=1,t=1;break}const l=Math.max(a,t);l===a?(c.value=e,u.value=Math.round(e*t/a)):(u.value=e,c.value=Math.round(e*a/t))},I=()=>{const e=[".  ",".. ","..."," ..","  .","   "];let a=0;x=window.setInterval((()=>{m.value=e[a],a=(a+1)%e.length}),200)},S=()=>{null!==x&&(clearInterval(x),x=null,m.value="")},U=async e=>{const a=e.target.files?.[0];if(!a)return;const t=new FileReader;t.onload=async()=>{f.value=t.result;const e=he(),a={taskType:"imageUpload",taskUUID:e,image:f.value};h.send(JSON.stringify([a]))},t.readAsDataURL(a)},C=()=>{if(p.value)return void(g.value="Please wait for the current request to complete.");if(!h||h.readyState!==WebSocket.OPEN)return void(g.value="WebSocket connection is not ready. Please wait.");p.value=!0,d.value=null,a.value=null;const t=he(),o={taskType:"imageInference",taskUUID:t,outputType:"URL",outputFormat:"JPG",positivePrompt:l.value,height:u.value,width:c.value,model:n.value,steps:s.value,seed:e.value||void 0,CFGScale:8,numberResults:1};b.value&&k.value&&(o.seedImage=k.value,o.strength=.8),h.send(JSON.stringify([o])),g.value=`Sending image generation request ${b.value&&k.value?"with reference image":""}:\n      - Model: ${n.value}\n      - Width: ${c.value}px\n      - Height: ${u.value}px\n      - Steps: ${s.value}\n      - Preference: ${i.value}\n      - Aspect Ratio: ${r.value}\n      - Seed: ${null!==e.value?e.value:"Random"}`,I(),w=window.setTimeout((()=>{g.value+="\nRequest timed out. Please try again.",L()}),3e4)},M=e=>{if(!e||!e.data||!Array.isArray(e.data)||0===e.data.length)return void console.error("Received an invalid response or empty data array",e);const t=e.data[0];if("imageUpload"===t.taskType)t.imageUUID?(k.value=t.imageUUID,g.value="Image uploaded successfully!"):g.value="Image upload failed.";else if("imageInference"===t.taskType){const e=t.imageURL;e?(d.value=e,void 0!==t.seed&&(a.value=t.seed),v.value.push(e),v.value.length>4&&v.value.shift(),g.value="Image generated successfully!",L()):(g.value="Failed to generate image. Please try again.",L())}},E=()=>{console.log("Reinitializing WebSocket due to model change..."),h&&h.readyState===WebSocket.OPEN&&h.close(),setTimeout((()=>{h=be(M,(()=>{y(`Authenticated successfully with model: ${n.value}`)}))}),500)};(0,o.wB)([r,i],R,{immediate:!0}),(0,o.wB)(n,(()=>{console.log(`Model changed to: ${n.value}`),E(),y(`Authenticated successfully with model: ${n.value}`)})),(0,o.sV)((()=>{E(),setInterval((()=>{if(h&&h.readyState===WebSocket.OPEN){const e={taskType:"ping",ping:!0};h.send(JSON.stringify([e])),y("Ping message sent to keep connection alive.")}}),6e4)}));const O=()=>{t.value=!0},W=()=>{t.value=!1},P=e=>{d.value=e,O()},K=(0,o.EW)((()=>{if(d.value){const e=d.value.split(".").pop();return`skunkworks_${he()}.${e}`}return"skunkworks_image.jpg"})),j=async()=>{if(d.value)try{const e=await fetch(d.value),a=await e.blob(),t=document.createElement("a");t.href=URL.createObjectURL(a),t.download=K.value,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(t.href)}catch(e){console.error("Download failed:",e)}};return{textInput:l,model:n,steps:s,preference:i,aspectRatio:r,width:c,height:u,imageUrl:d,loading:p,statusMessage:g,loadingAnimation:m,handleSubmit:C,oldImages:v,downloadFilename:K,downloadImage:j,modalVisible:t,openModal:O,closeModal:W,viewImage:P,handleImageUpload:U,uploadedImage:f,imageUUID:k,useReferenceImage:b,handleImageResponse:M,seed:e,generatedSeed:a}}});const Oe=(0,Ue.A)(Ee,[["render",ge]]);var We=Oe,Pe=(0,o.pM)({components:{ImageGenerator:We}});const Ke=(0,Ue.A)(Pe,[["render",s]]);var je=Ke;(0,l.Ef)(je).mount("#app")}},a={};function t(l){var o=a[l];if(void 0!==o)return o.exports;var n=a[l]={exports:{}};return e[l].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(a,l,o,n){if(!l){var s=1/0;for(u=0;u<e.length;u++){l=e[u][0],o=e[u][1],n=e[u][2];for(var i=!0,r=0;r<l.length;r++)(!1&n||s>=n)&&Object.keys(t.O).every((function(e){return t.O[e](l[r])}))?l.splice(r--,1):(i=!1,n<s&&(s=n));if(i){e.splice(u--,1);var c=o();void 0!==c&&(a=c)}}return a}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[l,o,n]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var o,n,s=l[0],i=l[1],r=l[2],c=0;if(s.some((function(a){return 0!==e[a]}))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(r)var u=r(t)}for(a&&a(l);c<s.length;c++)n=s[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(u)},l=self["webpackChunkskunkworks_vue"]=self["webpackChunkskunkworks_vue"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],(function(){return t(3920)}));l=t.O(l)})();
//# sourceMappingURL=app.ce4fbec8.js.map