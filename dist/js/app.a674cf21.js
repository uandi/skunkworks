(function(){"use strict";var e={2517:function(e,t,l){var a=l(5130),n=l(6768);const o={id:"app"};function i(e,t,l,a,i,s){const r=(0,n.g2)("ImageGenerator");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(r)])}var s=l(4232);const r={class:"image-generator-container px-8"},u=(0,n.Lk)("div",{class:"w-full text-start mb-8"},[(0,n.Lk)("h1",{class:"headline-text"},"skunkwork 1.0"),(0,n.Lk)("p",{class:"text-white"},"WIP: //unstable //Beta")],-1),c=(0,n.Lk)("div",{class:"w-full h-px bg-white my-4"},null,-1),d={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 w-full"},p=(0,n.Lk)("label",{for:"text-input",class:"input-label"},"Enter your text:",-1),v=(0,n.Lk)("label",{for:"model-select",class:"input-label"},"Choose Model:",-1),g=(0,n.Lk)("option",{value:"civitai:158441@358398"},"epiCRealism",-1),f=(0,n.Lk)("option",{value:"civitai:12597@14856"},"JJ's Interior Space",-1),m=[g,f],k=(0,n.Lk)("label",{for:"preference-select",class:"input-label"}," Select Preference: ",-1),b=(0,n.Lk)("option",{value:"speed"},"Speed",-1),x=(0,n.Lk)("option",{value:"quality"},"Quality",-1),h=[b,x],w={for:"steps-input",class:"input-label"},y=(0,n.Lk)("label",{for:"aspect-ratio-select",class:"input-label"},"Select Aspect Ratio:",-1),L=(0,n.Fv)('<option value="1:1">1:1 (Square)</option><option value="16:9">16:9 (Widescreen)</option><option value="4:3">4:3 (Standard)</option><option value="3:2">3:2 (Classic)</option><option value="21:9">21:9 (Ultra-Widescreen)</option><option value="9:16">9:16 (Portrait)</option><option value="1.85:1">1.85:1 (Cinematic)</option>',7),S=[L],R={class:"text-sm text-gray-400"},I=["disabled"],M={class:"col-span-2 lg:h-full flex bg-fill-secondary items-center justify-center"},O={id:"image-output",class:"image-output w-full h-full lg:h-auto"},C={key:0,class:"flex flex-col items-center justify-center h-full"},P=["src"],U={class:"flex space-x-4"},E=["href"],W={key:1,class:"text-white text-center"},K=(0,n.Lk)("p",null,"No image generated yet.",-1),j=[K],V={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 w-full mt-8"},T={class:"col-span-1 flex flex-col border-r border-white"},X={class:"terminal-container"},_={key:0,class:"status-message"},D=(0,n.Lk)("span",{class:"terminal-cursor"},null,-1),J={key:1,id:"loading-indicator",class:"loading-indicator"},N={class:"col-span-2 lg:h-full grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 auto-rows-fr"},$=["src"],q={key:1,class:"flex items-center justify-center col-span-4"},A=(0,n.Lk)("p",{class:"text-white"},"No old images available.",-1),F=[A];function G(e,t,l,o,i,g){const f=(0,n.g2)("ImageModal");return(0,n.uX)(),(0,n.CE)("div",r,[u,c,(0,n.Lk)("div",d,[(0,n.Lk)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)(((...t)=>e.handleSubmit&&e.handleSubmit(...t)),["prevent"])),class:"form-section col-span-1 flex flex-col border-r border-white"},[(0,n.Lk)("div",null,[p,(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.textInput=t),id:"text-input",rows:"4",class:"text-input resize-none",required:"",placeholder:"Enter your prompt"},"\n\t\t\t\t\t",512),[[a.Jo,e.textInput]])]),(0,n.Lk)("div",null,[v,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.model=t),id:"model-select",class:"select-input"},m,512),[[a.u1,e.model]])]),(0,n.Lk)("div",null,[k,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.preference=t),id:"preference-select",class:"select-input"},h,512),[[a.u1,e.preference]])]),(0,n.Lk)("div",null,[(0,n.Lk)("label",w,"Steps: "+(0,s.v_)(e.steps),1),(0,n.bo)((0,n.Lk)("input",{type:"range","onUpdate:modelValue":t[3]||(t[3]=t=>e.steps=t),id:"steps-input",class:"slider-input w-full",min:"1",max:"50"},null,512),[[a.Jo,e.steps]])]),(0,n.Lk)("div",null,[y,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.aspectRatio=t),id:"aspect-ratio-select",class:"select-input"},S,512),[[a.u1,e.aspectRatio]])]),(0,n.Lk)("div",null,[(0,n.Lk)("p",R,"Calculated Dimensions: "+(0,s.v_)(e.width)+" x "+(0,s.v_)(e.height),1)]),(0,n.Lk)("button",{type:"submit",disabled:e.loading,class:"generate-button"}," Generate Image ",8,I)],32),(0,n.Lk)("div",M,[(0,n.Lk)("div",O,[e.imageUrl?((0,n.uX)(),(0,n.CE)("div",C,[(0,n.Lk)("img",{src:e.imageUrl||void 0,alt:"Generated Image",class:"max-h-full max-w-full object-contain mb-4"},null,8,P),(0,n.Lk)("div",U,[(0,n.Lk)("button",{onClick:t[6]||(t[6]=(...t)=>e.openModal&&e.openModal(...t)),class:"view-button"}," View Full Size "),(0,n.Lk)("a",{href:e.imageUrl,download:"generated_image.jpg",class:"download-button"}," Download Image ",8,E)])])):((0,n.uX)(),(0,n.CE)("div",W,j))])]),e.modalVisible?((0,n.uX)(),(0,n.Wv)(f,{key:0,isVisible:e.modalVisible,imageUrl:e.imageUrl,onClose:e.closeModal},null,8,["isVisible","imageUrl","onClose"])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",V,[(0,n.Lk)("div",T,[(0,n.Lk)("div",X,[e.statusMessage?((0,n.uX)(),(0,n.CE)("div",_,[(0,n.eW)(" Status: "),(0,n.Lk)("span",null,(0,s.v_)(e.statusMessage),1),D])):(0,n.Q3)("",!0),e.loading?((0,n.uX)(),(0,n.CE)("div",J," Processing Data "+(0,s.v_)(e.loadingAnimation),1)):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",N,[e.oldImages.length>0?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(e.oldImages.slice(-4),((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"flex items-center justify-center"},[(0,n.Lk)("img",{src:e,alt:"Old Generated Image",class:"max-h-24 max-w-24 object-contain"},null,8,$)])))),128)):((0,n.uX)(),(0,n.CE)("div",q,F))])])])}l(4114);var Q=l(144);function z(e,t){const l=new WebSocket("wss://ws-api.runware.ai/v1");return l.onopen=()=>{console.log("WebSocket connection opened.");const e=[{taskType:"authentication",apiKey:"Qw9LhZpi2wuHyRk5LDh6ZOnHwDYQ8O3D"}];l.send(JSON.stringify(e)),console.log("Authentication message sent:",e),t&&t()},l.onmessage=t=>{const l=JSON.parse(t.data);e&&e(l)},l.onerror=e=>{console.error("WebSocket error occurred:",e)},l.onclose=()=>{console.log("WebSocket connection closed.")},l}function B(){let e=(new Date).getTime(),t=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(l=>{let a=16*Math.random();return e>0?(a=(e+a)%16|0,e=Math.floor(e/16)):(a=(t+a)%16|0,t=Math.floor(t/16)),("x"===l?a:3&a|8).toString(16)}))}var H=(0,n.pM)({setup(){const e=(0,Q.KR)(!1),t=(0,Q.KR)(""),l=(0,Q.KR)("civitai:158441@358398"),a=(0,Q.KR)(10),o=(0,Q.KR)("quality"),i=(0,Q.KR)("4:3"),s=(0,Q.KR)(1024),r=(0,Q.KR)(1024),u=(0,Q.KR)(null),c=(0,Q.KR)(!1),d=(0,Q.KR)(""),p=(0,Q.KR)(""),v=(0,Q.KR)([]);let g,f=null,m=null;const k=e=>{d.value=e},b=()=>{c.value=!1,w(),null!==f&&(clearTimeout(f),f=null)},x=()=>{const e="speed"===o.value?512:1024;let t,l;switch(i.value){case"16:9":t=16,l=9;break;case"4:3":t=4,l=3;break;case"3:2":t=3,l=2;break;case"21:9":t=21,l=9;break;case"9:16":t=9,l=16;break;case"1.85:1":t=1.85,l=1;break;case"1:1":default:t=1,l=1;break}const a=Math.max(t,l);a===t?(s.value=e,r.value=Math.round(e*l/t)):(r.value=e,s.value=Math.round(e*t/l))},h=()=>{const e=[".  ",".. ","..."," ..","  .","   "];let t=0;m=window.setInterval((()=>{p.value=e[t],t=(t+1)%e.length}),200)},w=()=>{null!==m&&(clearInterval(m),m=null,p.value="")},y=()=>{if(c.value)return void(d.value="Please wait for the current request to complete.");if(!g||g.readyState!==WebSocket.OPEN)return void(d.value="WebSocket connection is not ready. Please wait.");c.value=!0,u.value=null;const e=B(),n={taskType:"imageInference",taskUUID:e,outputType:"URL",outputFormat:"JPG",positivePrompt:t.value,height:r.value,width:s.value,model:l.value,steps:a.value,CFGScale:8,numberResults:1};d.value=`Sending image generation request:\n    - Model: ${l.value}\n    - Width: ${s.value}px\n    - Height: ${r.value}px\n    - Steps: ${a.value}\n    - Preference: ${o.value}\n    - Aspect Ratio: ${i.value}`,g.send(JSON.stringify([n])),d.value+="\nImage request successfully sent.",h(),f=window.setTimeout((()=>{d.value+="\nRequest timed out. Please try again.",b()}),3e4)},L=e=>{if(e.data&&"imageInference"===e.data[0].taskType){const t=e.data[0].imageURL;t?(d.value+="\nImage generated successfully!",u.value=t,v.value.push(t),b()):(d.value+="\nFailed to generate image. Please try again.",b())}},S=()=>{console.log("Reinitializing WebSocket due to model change..."),g&&g.readyState===WebSocket.OPEN&&g.close(),setTimeout((()=>{g=z(L,(()=>{k(`Authenticated successfully with model: ${l.value}`)}))}),500)};(0,n.wB)([i,o],x,{immediate:!0}),(0,n.wB)(l,(()=>{k(`Model changed to "${l.value}". Reinitializing WebSocket...`),S()})),(0,n.sV)((()=>{S(),setInterval((()=>{if(g&&g.readyState===WebSocket.OPEN){const e={taskType:"ping",ping:!0};g.send(JSON.stringify([e])),k("Ping message sent to keep connection alive.")}}),6e4)}));const R=()=>{e.value=!0},I=()=>{e.value=!1};return{textInput:t,model:l,steps:a,preference:o,aspectRatio:i,width:s,height:r,imageUrl:u,loading:c,statusMessage:d,loadingAnimation:p,handleSubmit:y,oldImages:v,modalVisible:e,openModal:R,closeModal:I}}}),Z=l(1241);const Y=(0,Z.A)(H,[["render",G]]);var ee=Y,te=(0,n.pM)({components:{ImageGenerator:ee}});const le=(0,Z.A)(te,[["render",i]]);var ae=le;(0,a.Ef)(ae).mount("#app")}},t={};function l(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,l),o.exports}l.m=e,function(){var e=[];l.O=function(t,a,n,o){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],o=e[c][2];for(var s=!0,r=0;r<a.length;r++)(!1&o||i>=o)&&Object.keys(l.O).every((function(e){return l.O[e](a[r])}))?a.splice(r--,1):(s=!1,o<i&&(i=o));if(s){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,n,o]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,i=a[0],s=a[1],r=a[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)l.o(s,n)&&(l.m[n]=s[n]);if(r)var c=r(l)}for(t&&t(a);u<i.length;u++)o=i[u],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(c)},a=self["webpackChunkskunkworks_vue"]=self["webpackChunkskunkworks_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=l.O(void 0,[504],(function(){return l(2517)}));a=l.O(a)})();
//# sourceMappingURL=app.a674cf21.js.map